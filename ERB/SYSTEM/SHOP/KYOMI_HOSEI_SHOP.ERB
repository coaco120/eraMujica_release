
@HOSEI_SHOP
DRAWLINE
SIF FLAG:DEBUG
	PRINTL 在选择菜单可以增减兴趣
FOR LOCAL, 0, 200
	IF STR:(100 + LOCAL) != ""
		PRINTFORM [{LOCAL, 3}]  
		PRINTFORM %STR:(100 + LOCAL), 20, LEFT%  
		PRINTFORML ({CFLAG:(400 + LOCAL), 4})  
	ENDIF
NEXT
PRINTL [999] 返回

$INPUT_LOOP_HOSEISHOP1
INPUT

SIF RESULT == 999
	RETURN 0
IF RESULT < 200 && STR:(100 + RESULT) != "" && FLAG:DEBUG
	CALL HOSEI_SHOP2(RESULT)
ELSE
	GOTO INPUT_LOOP_HOSEISHOP1
ENDIF

;ARG 是 变更做指令番号
@HOSEI_SHOP2(ARG)
#LOCALSIZE 200
;选择肢用
LOCAL:1 = 1
LOCAL:2 = 2
LOCAL:3 = 3
LOCAL:4 = 4
LOCAL:5 = 5
LOCAL:6 = 10
LOCAL:7 = 20
LOCAL:8 = 30
LOCAL:9 = 50
;单価
IF FLAG:DEBUG
	LOCAL:100 = 0
ELSE
	LOCAL:100 = 100
ENDIF

PRINTFORML 请选择增减的量（持有金${MONEY}）
PRINTFORML %STR:(100 + ARG)%({CFLAG:(400 + ARG)}) 被
FOR LOCAL:0, 1, 9
	PRINTFORM	[{LOCAL:(LOCAL:0), 3}] {LOCAL:(LOCAL:0), 2}增加(${LOCAL:(LOCAL:0) * LOCAL:100, 4})　　
	PRINTFORML	[{LOCAL:(LOCAL:0) + 100, 3}] {LOCAL:(LOCAL:0), 2}减少(${LOCAL:(LOCAL:0) * LOCAL:100, 4})
NEXT
PRINTL [  0] 返回

$INPUT_LOOP_HOSEISHOP2
INPUT

IF RESULT == 0
	RETURN 0
ELSEIF RESULT <= 100
	IF MONEY < RESULT * LOCAL:100
		PRINTL 钱不够
		GOTO INPUT_LOOP_HOSEISHOP2
	ELSE
		MONEY -= RESULT * LOCAL:100
		CFLAG:(400 + ARG) += RESULT
		PRINTL 兴趣增加
		PRINTFORML %STR:(100 + ARG)%({CFLAG:(400 + ARG)})
	ENDIF
ELSEIF RESULT <= 200
	IF MONEY < (RESULT - 100) * LOCAL:100
		PRINTL 钱不够
		GOTO INPUT_LOOP_HOSEISHOP2
	ELSE
		MONEY -= (RESULT - 100) * LOCAL:100
		CFLAG:(400 + ARG) -= RESULT - 100
		PRINTL 兴趣减少
		PRINTFORML %STR:(100 + ARG)%({CFLAG:(400 + ARG)})
	ENDIF
ELSE
	GOTO INPUT_LOOP_HOSEISHOP2
ENDIF

RETURN 0