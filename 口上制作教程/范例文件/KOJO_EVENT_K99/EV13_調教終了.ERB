;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#
;
;	角色口上 调教结束口上文件(調教終了イベント口上ファイル)
;
;	调教结束事件口上汇总文件
;
;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#

;========================================================================
;EV13, 调教结束口上
;========================================================================
;・由@EVENTCOMEND调用
;・在口上主导者结束调教前显示
;・ARG:1, ARG:2时：显示旁白后PRINTL空行，再显示口上
;・ARG:0时：无固定旁白，口上前自动PRINTL空行
; 返回RESULT≥0时：口上显示后PRINTL空行
;-------------------------------------------------
;关联变量：
;FLAG:日常制御	調教終了時状況(1=通常/2=精力0/3=一回休み/4=失神した)
;-------------------------------------------------
@KOJO_EVENT_K99_13(ARG)
;-------------------------------------------------
;参数定义
;ARG=(0, 普通に終了、1, 調教対象が疲れている、2, 調教対象が失神した)
;-------------------------------------------------

;────────────────────────────────────
;ARG:1, ARG:2, 因疲劳/失神导致的调教终止 FIRSTEVENT(0)～
;────────────────────────────────────
;・調教対象消耗度に応じて疲労/失神に分かれる
;・调用时机是正文显示→PRINTL→台词的显示
;・在编写EVENT201、照顾（日常事件）的部分时，最好能设计成可以良好联动的方式
;------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━
;调教对象疲惫状态
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック() && ARG == 1
	PRINTFORMW 「今天就到这里吧。好好休息」
	RETURN 1
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;調教対象が失神した
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック() && ARG == 2
	PRINTFORMW 「哎呀呀……真是让人困扰呢。」
	RETURN 1
ENDIF

;────────────────────────────────────
;ARG:0 普通に終了 FIRSTEVENT(10)～
;────────────────────────────────────
;・普通调教结束时的台词
;・没有正文描述。在PRINTL产生的空行后显示台词
;・虽然每个框架都分配了事件编号，但可以自由设置
;-------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━
;获得大满足奖励时
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック() && TFLAG:今回で大満足
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTEVENT(10)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;调教对象的精力0
	;=================================================
	IF 口上記入チェック(0) && FLAG:日常制御 == 2
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;其他・无条件
	;=================================================
	IF 口上記入チェック()
		PRINTFORMW 「真是厉害呢。希望你每次都能这么认真就好了~」
		RETURN 1
	ENDIF
ENDIF

;*************************************************
;以下是基于好感度进行分支
;*************************************************

;EVENT11あたりで任意のKFLAGを立てて条件にしてやると話の辻褄は合わせやすいです
;━━━━━━━━━━━━━━━━━━━━━━━━
;相思相愛（好意3000以上・好感度3000以上）
;-------------------------------------------------
;・两情相悦状态
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && AFFECTION("相思相愛")
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTEVENT(20)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;其他・无条件
	;=================================================
	IF 口上記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;从好感度成长曲线来看，应该会在达到溺爱阶段后触发
;━━━━━━━━━━━━━━━━━━━━━━━━
;調教完了（好意2000以上）
;-------------------------------------------------
;・调教对象已彻底迷恋口上主
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && AFFECTION("調教完了")
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTEVENT(30)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;其他・无条件
	;=================================================
	IF 口上記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;溺愛（好感度2000以上）
;-------------------------------------------------
;・调教者反被调教对象俘获、投入深刻而扭曲的爱意
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && AFFECTION("溺愛")
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTEVENT(40)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;其他・无条件
	;=================================================
	IF 口上記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;已驯化(調教済み)（好意1000以上）
;-------------------------------------------------
;・调教对象从被口上主调教中感受到幸福
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック() && AFFECTION("調教済み")
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTEVENT(50)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;其他・无条件
	;=================================================
	IF 口上記入チェック()
		PRINTFORMW 「哎呀，怎么啦？呵呵，是不是寂寞了呢」
		PRINTFORMW 「没关系的，我还会再来的，请放心吧」
		RETURN 1
	ENDIF
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;厌恶(嫌悪)（好意-100未満）
;-------------------------------------------------
;・調教者に対し嫌悪感を抱いている
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック() && AFFECTION("嫌悪")
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTEVENT(60)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;其他・无条件
	;=================================================
	IF 口上記入チェック()
		SELECTCASE RANDEVENT(2, 60)
			CASE 0
				PRINTFORMW 「就算你一直这样瞪着我，我也不会死的哦。」
				PRINTFORMW 「嗯...说不定会死呢？不过马上就会复活的啦。」
			CASE 1
				PRINTFORMW 「你真的很讨厌我呢。不过在调教时这种反抗心...」
				PRINTFORMW 「我倒是不介意哦。」
		ENDSELECT
		RETURN 1
	ENDIF
ENDIF

;-------------------------------------------------
;・心灵遭受创伤，光是看到主人的身影就会感到恐惧
;・可通过「%ACTSTR(CFLAG:MASTER:8)%」显示创伤诱因
;　示例）PRINTFORMW 「已经不想再%ACTSTR(CFLAG:MASTER:8)%了吗？」
;━━━━━━━━━━━━━━━━━━━━━━━━
;恐怖（好意200未満・创伤等级（トラウマ）Lv3以上）
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && AFFECTION("恐怖")
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTEVENT(70)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;其他・无条件
	;=================================================
	IF 口上記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;反抗（好意0以下・反抗刻印Lv1以上）
;-------------------------------------------------
;・心を開かない奴隷に苛つくご主人様
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック() && AFFECTION("反抗")
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTEVENT(80)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;其他・无条件
	;=================================================
	IF 口上記入チェック()
		SELECTCASE RANDEVENT(2, 80)
			CASE 0
				PRINTFORMW 「事情不如预期确实让我有点烦躁呢...」
			CASE 1
				PRINTFORMW 「真奇怪...我从未想过事情会违背我的意愿发展...」
		ENDSELECT
		RETURN 1
	ENDIF
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;觉醒状态（好意500以上）
;-------------------------------------------------
;・或许已经开始喜欢上被调教的感觉了…
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && AFFECTION("目覚め")
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTEVENT(90)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;其他・无条件
	;=================================================
	IF 口上記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;顺应力（好意100以上・好感度100以上）
;-------------------------------------------------
;・细致地调教着，意外地并不讨厌…
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && AFFECTION("順応")
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTEVENT(100)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;其他・无条件
	;=================================================
	IF 口上記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;初期阶段（无条件）
;-------------------------------------------------
;・本质上是其他条件均未匹配时的默认分支
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック()
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTEVENT(110)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;其他・无条件
	;=================================================
	IF 口上記入チェック(50)
		SELECTCASE RANDEVENT(2, 110)
			CASE 0
				PRINTFORMW 「嗯，今天就先到这里吧。」
				PRINTFORMW 「下次也要一起全力以赴哦。」
			CASE 1
				PRINTFORMW 「今天我也很享受呢。」
				PRINTFORMW 「下次你也要继续努力呀。」
		ENDSELECT
		RETURN 1
	ENDIF
ENDIF
