;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#
;
;	角色口上 调教开始事件口上文件（調教開始イベント口上ファイル）
;
;	整合调教开始事件的所有口上脚本
;
;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#

;========================================================================
;EV11, 調教開始口上
;========================================================================
;・多数情况下，口上作者首先考虑的是作为"主人"的口上
;・因此作为@KOJO_MS_EVENT时，限定在TALENT:主人身份下触发
;・事件相关内容可能因口上主立场不同导致逻辑矛盾，故采取此措施
;・口上内所有位置均可通过口上函数实现类似的排他处理
;-------------------------------------------------
;　若要编写被召唤后受托进行调教的口上
;　建议使用@KOJO_EVENT_KX1_11调用，不做排他处理
;　并通过TALENT:主人/非主人设置分支
;　在EVENT1, OP(仅主人身份可处理)中进行KFLAG赋值
;　或者使用@KOJO_AS_EVENT_KX1_11分割到独立文件
;-------------------------------------------------
;当前已设置基础分支结构，但EVENT11框架内的分支增减可自由调整
;注意：COMMON_GETTER_CHARA.ERB中的@AFFECTION包含此处未定义的参数
;若将宽松条件分支置于上层，会导致下层分支全部失效
;请务必注意优先级设置
;-------------------------------------------------
@KOJO_MS_EVENT_K99_11(ARG)
;-------------------------------------------------
;参数说明...
;ARG=(0, 正常/1, 因调教者疲劳中止/2, 因调教对象疲劳中止)
;-------------------------------------------------
;────────────────────────────────────
;首次调教・第10次调教
;────────────────────────────────────
;・首次调教及第10次调教时显示的口上
;・可通过CFLAG:调教次数获取次数值，但过度使用可能影响其他条件判断
;-------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━
;首次调教
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック() && CFLAG:調教回数 == 1
	PRINTFORMW 「来吧，要开始了哦」
	RETURN 1
ENDIF

;━━━━━━━━━━━━━━━━━━━━━━━━
;调教１０回
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック() && !ARG && CFLAG:調教回数 >= 10 && FIRSTTIMES("調教回数10")
	PRINTFORMW 「呵呵，差不多该习惯了吧？」
	PRINTFORMW 「我也渐渐觉得有趣起来了呢」
	PRINTFORMW 「那么，我们开始吧？」
	RETURN 1
ENDIF

;────────────────────────────────────
;调教中止 ARG:1 ARG:2
;────────────────────────────────────
;调用条件：CFLAG:消耗 >5 或 CFLAG:MASTER:消耗 >5
;未满足条件时则调用常规调教开始口上
;-------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━
;因疲劳中止调教
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック() && ARG > 0
	;=================================================
	;疲劳状态属于口上主(TARGET)
	;=================================================
	IF 口上記入チェック() && ARG == 1
		PRINTFORMW 「还挺累人的呢。今天就到此为止吧」
		RETURN 1
	ENDIF
	
	;=================================================
	;疲劳状态属于调教对象(MASTER)
	;=================================================
	IF 口上記入チェック() && ARG == 2
		PRINTFORMW 「哎呀，累了吗？」
		PRINTFORMW 「知道了。好好休息准备下次吧」
		RETURN 1
	ENDIF
ENDIF

;────────────────────────────────────
;其他・基于好感度等的分支
;────────────────────────────────────
;・根据当前ACTABLE和COMABLE的设定，实际上只能以好感度作为进展衡量标准
;・依赖度仅能通过@COM进行赋值和引用，不影响主体行为逻辑
;・今后根据维护情况可能会开发其他用途？
;-------------------------------------------------

;-------------------------------------------------
;・两情相悦状态
;-------------------------------------------------
;原本在未实装结局的时代，此处常被用作临时结局框架
;当前版本要达到此阶段仍需相当天数和进展
;━━━━━━━━━━━━━━━━━━━━━━━━
;相思相愛（好意3000以上・好感度3000以上)
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && AFFECTION("相思相愛")
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTEVENT(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;初回以外
	;=================================================
	IF 口上記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;-------------------------------------------------
;・调教对象已彻底迷恋口上主
;━━━━━━━━━━━━━━━━━━━━━━━━
;調教完了（好意2000以上）
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && AFFECTION("調教完了")
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTEVENT(10)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;初回以外
	;=================================================
	IF 口上記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;-------------------------------------------------
;・调教者反被调教对象俘获、投入深刻而扭曲的爱意
;━━━━━━━━━━━━━━━━━━━━━━━━
;溺愛（好感度2000以上）
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && AFFECTION("溺愛")
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTEVENT(20)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;初回以外
	;=================================================
	IF 口上記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;-------------------------------------------------
;・调教对象从被口上主调教中感受到幸福
;━━━━━━━━━━━━━━━━━━━━━━━━
;已驯化(調教済み)（好意1000以上）
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(0) && AFFECTION("調教済み")
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTEVENT(30)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;初回以外
	;=================================================
	IF 口上記入チェック(0)
		PRINTFORMW 
		RETURN 1
	ENDIF
ENDIF

;-------------------------------------------------
;・对调教者抱有厌恶感
;━━━━━━━━━━━━━━━━━━━━━━━━
;厌恶(嫌悪)（好意-100未満）
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック() && AFFECTION("嫌悪")
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTEVENT(40)
		PRINTFORMW 
		RETURN 1
	ENDIF
		
	;=================================================
	;初回以外
	;=================================================
	IF 口上記入チェック()
		PRINTFORMW 「眼神相当凶狠呢」
		PRINTFORMW 「想杀了我吗？」
		PRINTFORMW 「呵呵，好啊。随时都欢迎哦」
		RETURN 1
	ENDIF
ENDIF

;-------------------------------------------------
;・心灵受创，仅看到主人身影就会颤抖
;・创伤诱因可通过「%ACTSTR(CFLAG:MASTER:8)%」显示
;示例）PRINTFORMW 「不要再%ACTSTR(CFLAG:MASTER:创伤)%了...」
;━━━━━━━━━━━━━━━━━━━━━━━━
;恐怖（好意200未満・创伤等级（トラウマ）Lv3以上）
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック() && AFFECTION("恐怖")
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTEVENT(50)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;初回以外
	;=================================================
	IF 口上記入チェック()
		PRINTFORMW 「在戒备吗？还是在害怕呢？」
		PRINTFORMW 「没必要这么发抖哦。反正结果都一样」
		PRINTFORMW 「来，开始吧？」
		RETURN 1
	ENDIF
ENDIF

;-------------------------------------------------
;・对封闭心灵的奴隶感到焦躁的主人
;━━━━━━━━━━━━━━━━━━━━━━━━
;反抗（好意0以下・反抗刻印Lv3以上）
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック() && AFFECTION("反抗")
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTEVENT(60)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;初回以外
	;=================================================
	IF 口上記入チェック()
		PRINTFORMW 「既不屈服于快乐 也不屈服于痛苦」
		PRINTFORMW 「究竟要怎样才能让你臣服呢？」
		RETURN 1
	ENDIF
ENDIF

;-------------------------------------------------
;・或许已经开始喜欢上被调教的感觉了…
;━━━━━━━━━━━━━━━━━━━━━━━━
;觉醒状态（好意500以上）
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック() && AFFECTION("目覚め")
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTEVENT(70)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;初回以外
	;=================================================
	IF 口上記入チェック()
		SELECTCASE RANDEVENT(2, 71)
			CASE 0
				PRINTFORMW 「你的眼神变得有色彩了呢」
				PRINTFORMW 「总算看到调教的成果了」
				PRINTFORMW 「今后也要继续精进哦」
			CASE 1
				PRINTFORMW 「开心吗？心跳加速了吗？」
				PRINTFORMW 「呵呵，很好。我也觉得很有成就感呢」
		ENDSELECT
		RETURN 1
	ENDIF
ENDIF

;-------------------------------------------------
;・被细致地调教着，意外地并不讨厌…
;━━━━━━━━━━━━━━━━━━━━━━━━
;顺应力（好意100以上・好感度100以上）
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック() && AFFECTION("順応")
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTEVENT(80)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;初回以外
	;=================================================
	IF 口上記入チェック()
		PRINTFORMW 「感觉如何？我的调教方式」
		PRINTFORMW 「还不错吧？我也是经过深思熟虑的哦」
		RETURN 1
	ENDIF
ENDIF

;-------------------------------------------------
;・本质上是其他条件均未匹配时的默认分支
;・假设其他分支全部未处理，只要编写此部分就能确保最低限度的显示
;━━━━━━━━━━━━━━━━━━━━━━━━
;初期阶段（无条件）
;━━━━━━━━━━━━━━━━━━━━━━━━
IF 口上記入チェック(50)
	;=================================================
	;初回
	;=================================================
	IF 口上記入チェック(0) && FIRSTEVENT(90)
		PRINTFORMW 
		RETURN 1
	ENDIF
	
	;=================================================
	;初回以外
	;=================================================
	IF 口上記入チェック()
		PRINTFORMW 「呵呵呵，今天我也来了呢。该开始调教了哦」
		RETURN 1
	ENDIF
ENDIF
